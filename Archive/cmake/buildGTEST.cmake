INCLUDE(ExternalProject)

SET(NOWPAC_GTEST_URL "https://googletest.googlecode.com/files/gtest-1.7.0.zip")

ExternalProject_Add( GTEST
   
   PREFIX ${CMAKE_INSTALL_PREFIX}/nowpac/external/gtest/
   URL ${NOWPAC_GTEST_URL}
   URL_HASH SHA1=f85f6d2481e2c6c4a18539e391aa4ea8ab0394af
   INSTALL_DIR ${CMAKE_INSTALL_PREFIX}/nowpac/external/gtest
   CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${CMAKE_INSTALL_PREFIX}/nowpac/external/gtest -DCMAKE_C_COMPILER=${CMAKE_C_COMPILER} -DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER}
   BUILD_COMMAND "make"
   INSTALL_COMMAND ""
   LOG_DOWNLOAD 1
   LOG_CONFIGURE 1
   LOG_BUILD 1
   LOG_INSTALL 1
   BUILD_IN_SOURCE 0

)

#SET_PROPERTY( TARGET GTEST PROPERTY FOLDER "nowpac/external")
SET(NOWPAC_GTEST_INCLUDE_PATH "${CMAKE_INSTALL_PREFIX}/nowpac/external/gtest/src/GTEST/include/")
SET(NOWPAC_GTEST_LIBRARY_PATH "${CMAKE_INSTALL_PREFIX}/nowpac/external/gtest/src/GTEST-build/")


